<div id='website_list'>
  <div class="row">
    <% websites.each do |website| %>
      <div class="col-md-6 col-lg-4 mb-4">
        <div class="card opacity-75 h-100 border-0 <%= 'bg-danger-subtle border-danger' if website.failed_responses_since_midnight? %>">
          <div class="card-body">
            <h5 class="card-title mb-2">
              <%= link_to website.url, website_path(website), class: "text-decoration-none text-primary fw-semibold stretched-link" %>
            </h5>
            <p class="card-text mb-1">
              <span class="fw-semibold">Responses:</span> <%= website.responses.count %>
            </p>
            <% if website.responses.any? %>
              <p class="card-text text-muted small mb-0">
                <%= "Last status: #{website.latest_response.status_code}" %><br>
                <%= website.latest_response.created_at.in_time_zone("Eastern Time (US & Canada)").strftime("%B %d, %Y %l:%M %p") %>
              </p>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  </div>

  <div class="d-flex justify-content-start mt-4">
    <%= paginate @websites %>
  </div>
</div>
